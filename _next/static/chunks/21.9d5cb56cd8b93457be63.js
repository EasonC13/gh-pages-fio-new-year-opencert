(window.webpackJsonp_N_E=window.webpackJsonp_N_E||[]).push([[21],{"0sMD":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=n("SxHf"),i=n("nx4L"),o=(r=n("c1gy"))&&r.__esModule?r:{default:r},s=n("fian");t.default=(e,t,n,r,c)=>{const l=t.localName,d=t.local,u=t.remote,f=t.originForSending,g=t.originForReceiving;let p=!1;c(l+": Connecting call sender");return n.reduce((e,t)=>(e[t]=(e=>function(){for(var t=arguments.length,n=new Array(t),m=0;m<t;m++)n[m]=arguments[m];let y;c(`${l}: Sending ${e}() call`);try{u.closed&&(y=!0)}catch(h){y=!0}if(y&&r(),p){const t=new Error(`Unable to send ${e}() call due to destroyed connection`);throw t.code=i.ERR_CONNECTION_DESTROYED,t}return new Promise((t,r)=>{const i=(0,o.default)(),p=n=>{if(n.source!==u||n.data.penpal!==a.REPLY||n.data.id!==i)return;if(n.origin!==g)return void c(`${l} received message from origin ${n.origin} which did not match expected origin ${g}`);c(`${l}: Received ${e}() reply`),d.removeEventListener(a.MESSAGE,p);let o=n.data.returnValue;n.data.returnValueIsError&&(o=(0,s.deserializeError)(o)),(n.data.resolution===a.FULFILLED?t:r)(o)};d.addEventListener(a.MESSAGE,p),u.postMessage({penpal:a.CALL,id:i,methodName:e,args:n},f)})})(t),e),e),()=>{p=!0}},e.exports=t.default},"3tON":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("SxHf"),a=n("fian");t.default=(e,t,n)=>{const i=e.localName,o=e.local,s=e.remote,c=e.originForSending,l=e.originForReceiving;let d=!1;n(i+": Connecting call receiver");const u=e=>{if(e.source!==s||e.data.penpal!==r.CALL)return;if(e.origin!==l)return void n(`${i} received message from origin ${e.origin} which did not match expected origin ${l}`);const o=e.data,u=o.methodName,f=o.args,g=o.id;n(`${i}: Received ${u}() call`);const p=e=>t=>{if(n(`${i}: Sending ${u}() reply`),d)return void n(`${i}: Unable to send ${u}() reply due to destroyed connection`);const o={penpal:r.REPLY,id:g,resolution:e,returnValue:t};e===r.REJECTED&&t instanceof Error&&(o.returnValue=(0,a.serializeError)(t),o.returnValueIsError=!0);try{s.postMessage(o,c)}catch(l){throw l.name===r.DATA_CLONE_ERROR&&s.postMessage({penpal:r.REPLY,id:g,resolution:r.REJECTED,returnValue:(0,a.serializeError)(l),returnValueIsError:!0},c),l}};new Promise(e=>e(t[u].apply(t,f))).then(p(r.FULFILLED),p(r.REJECTED))};return o.addEventListener(r.MESSAGE,u),()=>{d=!0,o.removeEventListener(r.MESSAGE,u)}},e.exports=t.default},F8ho:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const r={"http:":"80","https:":"443"},a=/^(https?:)?\/\/([^/:]+)?(:(\d+))?/,i=["file:","data:"];t.default=e=>{if(e&&i.find(t=>e.startsWith(t)))return"null";const t=document.location,n=a.exec(e);let o,s,c;n?(o=n[1]?n[1]:t.protocol,s=n[2],c=n[4]):(o=t.protocol,s=t.hostname,c=t.port);return`${o}//${s}${c&&c!==r[o]?":"+c:""}`},e.exports=t.default},Lxp0:function(e,t,n){"use strict";n.r(t);var r=n("nKUr"),a=n("WExX"),i=Object(a.createStandardAction)("RENDER_DOCUMENT")(),o=Object(a.createStandardAction)("SELECT_TEMPLATE")(),s=(Object(a.createStandardAction)("GET_TEMPLATES")(),Object(a.createStandardAction)("PRINT")()),c=n("q1tI"),l=n.n(c),d=(n("bur/"),n("yntX")),u=n.n(d);var f=function(){return(f=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a]);return e}).apply(this,arguments)},g=function(e,t,n,r){return new(n||(n=Promise))((function(a,i){function o(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}c((r=r.apply(e,t||[])).next())}))},p=function(e,t){var n,r,a,i,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(a=2&i[0]?r.return:i[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,i[1])).done)return a;switch(r=0,a&&(i=[2&i[0],a.value]),i[0]){case 0:case 1:a=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,r=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!a||i[1]>a[0]&&i[1]<a[3])){o.label=i[1];break}if(6===i[0]&&o.label<a[1]){o.label=a[1],a=i;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(i);break}a[2]&&o.ops.pop(),o.trys.pop();continue}i=t.call(e,o)}catch(s){i=[6,s],r=0}finally{n=a=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},m=Object(a.createStandardAction)("UPDATE_HEIGHT")(),y=Object(a.createStandardAction)("OBFUSCATE")(),h=Object(a.createStandardAction)("UPDATE_TEMPLATES")(),b=function(e){var t=e.dispatch,n=e.source,r=e.onConnected,a=e.style,i=e.className,o=void 0===i?"":i,s=e.sandbox,d=void 0===s?"allow-scripts allow-same-origin allow-modals allow-popups":s,b=Object(c.useState)(!1),E=b[0],v=b[1],w=Object(c.useRef)(null),C=Object(c.useRef)([]),O=Object(c.useMemo)((function(){return function(e){return"UPDATE_TEMPLATES"===e.type&&(C.current=e.payload),t(e)}}),[t]),S=function(e){var t=this,n=Object(c.useState)(),r=n[0],a=n[1],i=Object(c.useState)("DISCONNECTED"),o=i[0],s=i[1];return Object(c.useEffect)((function(){e.iframe.current&&"DISCONNECTED"===o&&(s("CONNECTING"),g(t,void 0,void 0,(function(){var t;return p(this,(function(n){switch(n.label){case 0:return t=a,[4,u()({methods:f({dispatch:e.dispatch},e.methods),iframe:e.iframe.current}).promise];case 1:return t.apply(void 0,[n.sent()]),s("CONNECTED"),[2]}}))})))}),[o,e]),["CONNECTED"===o,r]}({methods:Object(c.useMemo)((function(){return{updateHeight:function(e){return O(m(e))},updateTemplates:function(e){return O(h(e))},handleObfuscation:function(e){return O(y(e))}}}),[O]),dispatch:O,iframe:w}),A=S[0],N=S[1];return Object(c.useEffect)((function(){A&&!E&&(v(!0),r(Object.assign((function(e){if(N.dispatch)N.dispatch(e);else if("RENDER_DOCUMENT"===e.type&&N.renderDocument)N.renderDocument(e.payload.document,e.payload.rawDocument);else if("SELECT_TEMPLATE"===e.type&&N.selectTemplateTab){var t=C.current.findIndex((function(t){return t.id===e.payload}));-1===t&&console.error("Unable to find the index associated with the label "+e.payload),N.selectTemplateTab(t)}else"PRINT"===e.type&&N.print&&N.print()}))))}),[A,N,r,E]),l.a.createElement("iframe",{title:"Decentralised Rendered Certificate",id:"iframe",ref:w,src:n,style:a,className:o,sandbox:d})},E=n("Q2re"),v=n("LeJ0"),w=n("MkDt"),C=n("YFqc"),O=n.n(C),S=n("/MKj"),A=n("vD8P"),N=n("H+61"),x=n("UlJF"),T=n("7LId"),D=n("VIvw"),_=n("iHvq");function R(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Object(_.a)(e);if(t){var a=Object(_.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(D.a)(this,n)}}var j=function(e){Object(T.a)(n,e);var t=R(n);function n(e){var r;return Object(N.a)(this,n),(r=t.call(this,e)).state={visible:!1,showAbsHeader:!1},r}return Object(x.a)(n,[{key:"toggleDrawer",value:function(){this.setState({visible:!this.state.visible})}},{key:"createTabs",value:function(e){var t=this,n=this.props.activeIdx;return e.map((function(e,a){return Object(r.jsx)("div",{className:"cursor-pointer w-full text-white border-b py-4 hover:text-opacity-100 ".concat(n===a?"":"text-opacity-50"),onClick:function(n){n.preventDefault(),t.renderContent(a,e.id)},children:e.label},a)}))}},{key:"renderContent",value:function(e,t){this.props.toggle(e,t),this.toggleDrawer()}},{key:"render",value:function(){var e=this,t=this.props.tabs,n=this.state,a=n.visible,i=n.showAbsHeader;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("div",{className:"cursor-pointer text-lg text-white ".concat(i?"":"absolute top-0 right-0 mt-4 mr-4"),onClick:function(){return e.toggleDrawer()},children:"\u2630"}),a?Object(r.jsxs)("aside",{className:"bg-navy text-lg fixed top-0 right-0 h-screen p-4",children:[Object(r.jsx)("div",{className:"cursor-pointer text-white",onClick:function(t){t.preventDefault(),e.toggleDrawer()},children:"\xd7"}),Object(r.jsx)("div",{className:"flex flex-wrap",children:this.createTabs(t)})]}):null]})}}]),n}(c.Component),P=Object(S.b)(null,(function(e){return{resetData:function(){return e(Object(A.w)())}}}))((function(e){var t=e.resetData,n=e.templates,a=e.onSelectTemplate,i=Object(c.useState)(0),o=i[0],s=i[1];return Object(r.jsxs)("nav",{className:"bg-blue-100 py-4 border-b-4 mb-4",children:[Object(r.jsx)("div",{className:"block md:hidden",children:Object(r.jsx)(j,{tabs:n,activeIdx:o,toggle:function(e,t){s(e),a(t)}})}),Object(r.jsx)("div",{className:"hidden md:block",children:Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"flex flex-wrap",children:[Object(r.jsx)("div",{className:"w-full ml-auto mb-16 lg:mb-0 lg:w-auto lg:order-2",children:Object(r.jsx)(O.a,{href:"/",children:Object(r.jsx)("a",{className:"button border border-navy text-navy bg-white hover:bg-navy",id:"btn-view-another",onClick:function(){return t()},children:"View another"})})}),Object(r.jsx)("div",{className:"w-full lg:flex-1 lg:order-1",children:Object(r.jsx)("ul",{id:"template-tabs-list",className:"flex flex-wrap -mx-4",children:n&&n.length>0?n.map((function(e,t){return Object(r.jsx)("li",{className:"w-auto mr-2",children:Object(r.jsx)("a",{className:"p-4 border-b-4 uppercase text-black hover:text-black hover:text-opacity-75 hover:border-black ".concat(t===o?"font-semi border-black":"border-grey text-opacity-50"),"data-testid":e.id,onClick:function(){s(t),a(e.id)},children:e.label})},t)})):null})})]})})})]})}));t.default=function(e){var t=e.rawDocument,n=e.updateObfuscatedCertificate,a=e.forwardedRef,l=Object(c.useRef)(),d=Object(c.useRef)(t),u=Object(c.useMemo)((function(){return Object(E.getData)(t)}),[t]),f=Object(c.useState)(0),g=f[0],p=f[1],m=Object(c.useState)([]),y=m[0],h=m[1];Object(c.useImperativeHandle)(a,(function(){return{print:function(){l.current&&l.current(s())}}}));var C=Object(c.useCallback)((function(e){l.current=e,l.current&&l.current(i({document:u,rawDocument:t}))}),[u,t]);return Object(c.useEffect)((function(){d.current=t}),[t]),Object(c.useEffect)((function(){var e,n,r=Object(E.getData)(t);if(E.utils.isSignedWrappedV2Document(t))n=r.issuers.map((function(e){return e.id})).join(",");else{var a=E.utils.getIssuerAddress(t);n=Array.isArray(a)?a.join(","):a}Object(w.a)(window,{category:"CERTIFICATE_VIEWED",action:n,label:null!==(e=null===r||void 0===r?void 0:r.id)&&void 0!==e?e:void 0}),r.issuers.forEach((function(e){Object(w.b)({issuer:e,certificateData:r})}))}),[t]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(P,{templates:y,onSelectTemplate:function(e){l.current&&l.current(o(e))}}),Object(r.jsx)("h2",{className:"print-only exact-print text-center py-8",children:"If you want to print the certificate, please click on the highlighted button above."}),!l.current&&Object(r.jsxs)("div",{className:"container text-blue text-center py-16",children:[Object(r.jsx)("i",{className:"fas fa-spinner fa-pulse fa-3x"}),Object(r.jsx)("div",{className:"my-3",children:"Loading Renderer..."})]}),Object(r.jsx)(b,{className:"w-full max-w-full",style:{height:"".concat(g,"px")},source:"".concat("object"===typeof u.$template?u.$template.url:v.f),dispatch:function(e){if("UPDATE_HEIGHT"===e.type)p(e.payload+20);else if("OBFUSCATE"===e.type){var t=e.payload,r=Object(E.obfuscateDocument)(d.current,t);n(r);var a=Object(E.getData)(r);l.current&&l.current(i({document:a,rawDocument:d.current}))}else"UPDATE_TEMPLATES"===e.type&&h(e.payload)},onConnected:C})]})}},MkDt:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return f}));var r=n("Q2re"),a=n("rJLZ"),i=n("jWrc"),o=Object(i.a)("components:Analytics:").trace,s=Object(i.a)("components:Analytics(Inactive):").trace;function c(e){return e in a.issuers}var l=function(e){var t=e.category,n=e.action,r=e.label,a=e.value;return"Category*: ".concat(t,", Action*: ").concat(n,", Label: ").concat(r,", Value: ").concat(a)},d=function(e,t){if(function(e){var t=e.category,n=e.action,r=e.value;if(!t)throw new Error("Category is required");if(!n)throw new Error("Action is required");if(r&&"number"!==typeof r)throw new Error("Value must be a number")}(t),"undefined"!==typeof e.ga){var n=t.category,r=t.action,a=t.label,i=t.value,c=t.options,d=void 0===c?void 0:c;return o(l(t)),e.ga("send","event",n,r,a,i,d)}s(l(t))},u=function(e){var t,n,r,i,o,s,l,u=e.issuer,f=e.certificateData,g="",p="",m=null,y=null!==(t=null!==(n=null!==(r=null!==(i=u.certificateStore)&&void 0!==i?i:u.documentStore)&&void 0!==r?r:u.tokenRegistry)&&void 0!==n?n:u.id)&&void 0!==t?t:"",h=null!==(o=null===f||void 0===f?void 0:f.id)&&void 0!==o?o:"",b=null!==(s=null===f||void 0===f?void 0:f.name)&&void 0!==s?s:"",E=null!==(l=null===f||void 0===f?void 0:f.issuedOn)&&void 0!==l?l:"";if(c(y)){var v,w,C=a.issuers[y];m=C.id,p=a.issuers[y].name,g='"store":"'.concat(y,'"').concat(";",'"document_id":"').concat(h,'"').concat(";",'"name":"').concat(b,'"').concat(";",'"issued_on":"').concat(E,'"').concat(";",'"issuer_name":"').concat(null!==(v=p)&&void 0!==v?v:"",'"').concat(";",'"issuer_id":"').concat(null!==(w=C.id)&&void 0!==w?w:"",'"')}else if(u.identityProof){var O;p=u.identityProof.location||"",g='"store":"'.concat(y,'"').concat(";",'"document_id":"').concat(h,'"').concat(";",'"name":"').concat(b,'"').concat(";",'"issued_on":"').concat(E,'"').concat(";",'"issuer_name":"').concat(null!==(O=p)&&void 0!==O?O:"",'"')}else g="Something went wrong, please check the analytics code of sendEventCertificateViewedDetailed";d(window,{category:"CERTIFICATE_DETAILS",action:"VIEWED - ".concat(p),label:g,options:{nonInteraction:!0,dimension1:y||"(not set)",dimension2:h||"(not set)",dimension3:b||"(not set)",dimension4:E||"(not set)",dimension5:p||"(not set)",dimension6:m||"(not set)"}})};function f(e,t){var n=Object(r.getData)(e),i=null===n||void 0===n?void 0:n.id,o=null===n||void 0===n?void 0:n.name,s=null===n||void 0===n?void 0:n.issuedOn,l=t.join(",");n.issuers.forEach((function(e){var t,n,r,u,f=null!==(t=null!==(n=null!==(r=null!==(u=e.certificateStore)&&void 0!==u?u:e.documentStore)&&void 0!==r?r:e.tokenRegistry)&&void 0!==n?n:e.id)&&void 0!==t?t:"",g=e.name,p=null;if(c(f)){var m=a.issuers[f];g=m.name,p=m.id}else e.identityProof&&(g=e.identityProof.location||"");d(window,{category:"CERTIFICATE_ERROR",action:"ERROR - ".concat(g),label:l,options:{nonInteraction:!0,dimension1:f||"(not set)",dimension2:i||"(not set)",dimension3:o||"(not set)",dimension4:s||"(not set)",dimension5:g||"(not set)",dimension6:p||"(not set)",dimension7:l}})}))}},QHLZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=e=>function(){if(e){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];console.log("[Penpal]",...n)}},e.exports=t.default},SxHf:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DATA_CLONE_ERROR=t.MESSAGE=t.REJECTED=t.FULFILLED=t.REPLY=t.CALL=t.HANDSHAKE_REPLY=t.HANDSHAKE=void 0;t.HANDSHAKE="handshake";t.HANDSHAKE_REPLY="handshake-reply";t.CALL="call";t.REPLY="reply";t.FULFILLED="fulfilled";t.REJECTED="rejected";t.MESSAGE="message";t.DATA_CLONE_ERROR="DataCloneError"},WExX:function(e,t,n){!function(e){"use strict";function t(e,t){return void 0===t&&(t=1),null==e}function n(e){throw void 0===e&&(e=1),new Error("Argument "+e+" is empty.")}function r(e){return"function"==typeof e&&"getType"in e}function a(e){throw void 0===e&&(e=1),new Error("Argument "+e+' is invalid, it should be an action-creator instance from "typesafe-actions"')}function i(e,t){if(null==e)throw new Error("Argument contains array with empty element at index "+t);if(null==e.getType)throw new Error("Argument contains array with invalid element at index "+t+', it should be an action-creator instance from "typesafe-actions"')}function o(e){return"string"==typeof e||"symbol"==typeof e}function s(e){return!o(e)}function c(e){throw void 0===e&&(e=1),new Error("Argument "+e+" is invalid, it should be an action type of type: string | symbol")}function l(e,t){if(null==e)throw new Error("Argument contains array with empty element at index "+t);if("string"!=typeof e&&"symbol"!=typeof e)throw new Error("Argument contains array with invalid element at index "+t+", it should be of type: string | symbol")}function d(e,r,i,o){return t(e)&&n(1),s(e)&&a(1),{type:e,payload:r,meta:i,error:o}}function u(e,r){t(e)&&n(1),s(e)&&c(1);var a=null!=r?r(e):function(){return{type:e}};return Object.assign(a,{getType:function(){return e},toString:function(){return e}})}function f(e){return t(e)&&n(1),s(e)&&c(1),Object.assign((function(){return u(e,(function(e){return function(t,n){return{type:e,payload:t,meta:n}}}))}),{map:function(t){return u(e,(function(e){return function(n,r){return Object.assign(t(n,r),{type:e})}}))}})}function g(e){return t(e)&&n(1),r(e)||a(1),e.getType()}e.action=d,e.createAction=function(e,t){var n=null==t?function(){return d(e)}:t(d.bind(null,e));return Object.assign(n,{getType:function(){return e},toString:function(){return e}})},e.createActionDeprecated=function(e,t){var n;if(null!=t){if("function"!=typeof t)throw new Error("second argument is not a function");n=t}else n=function(){return{type:e}};if(null==e)throw new Error("first argument is missing");if("string"!=typeof e&&"symbol"!=typeof e)throw new Error("first argument should be type of: string | symbol");return n},e.createAsyncAction=function(e,t,n,r){return[e,t,n].forEach(l),Object.assign((function(){return{request:f(e)(),success:f(t)(),failure:f(n)(),cancel:r&&f(r)()}}),{})},e.createCustomAction=u,e.createReducer=function e(t,n){void 0===n&&(n={});var a=Object.assign({},n);return Object.assign((function(e,n){if(void 0===e&&(e=t),a.hasOwnProperty(n.type)){var r=a[n.type];if("function"!=typeof r)throw Error('Reducer under "'+n.type+'" key is not a valid reducer');return r(e,n)}return e}),{handlers:Object.assign({},a),handleAction:function(n,i){var s=Array.isArray(n)?n:[n],c={};return s.map((function(e){return r(e)?g(e):o(e)?e:function(e){throw void 0===e&&(e=1),new Error("Argument "+e+' is invalid, it should be an action-creator instance from "typesafe-actions" or action type of type: string | symbol')}()})).forEach((function(e){return c[e]=i})),e(t,Object.assign({},a,c))}})},e.createStandardAction=f,e.getType=g,e.isActionOf=function(e,r){t(e)&&n(1);var a=Array.isArray(e)?e:[e];a.forEach(i);var o=function(e){return a.some((function(t){return e.type===t.getType()}))};return void 0===r?o:o(r)},e.isOfType=function(e,r){t(e)&&n(1);var a=Array.isArray(e)?e:[e];a.forEach(l);var i=function(e){return a.includes(e.type)};return void 0===r?i:i(r)}}(t)},"bur/":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("SxHf"),a=n("nx4L"),i=l(n("h0uM")),o=l(n("3tON")),s=l(n("0sMD")),c=l(n("QHLZ"));function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.parentOrigin,n=void 0===t?"*":t,l=e.methods,d=void 0===l?{}:l,u=e.timeout,f=e.debug;const g=(0,c.default)(f);if(window===window.top){const e=new Error("connectToParent() must be called within an iframe");throw e.code=a.ERR_NOT_IN_IFRAME,e}const p=(0,i.default)(),m=p.destroy,y=p.onDestroy,h=window,b=h.parent,E=new Promise((e,t)=>{let i;void 0!==u&&(i=setTimeout(()=>{const e=new Error(`Connection to parent timed out after ${u}ms`);e.code=a.ERR_CONNECTION_TIMEOUT,t(e),m()},u));const c=t=>{try{clearTimeout()}catch(p){return}if(t.source!==b||t.data.penpal!==r.HANDSHAKE_REPLY)return;if("*"!==n&&n!==t.origin)return void g(`Child received handshake reply from origin ${t.origin} which did not match expected origin ${n}`);g("Child: Received handshake reply"),h.removeEventListener(r.MESSAGE,c);const a={localName:"Child",local:h,remote:b,originForSending:"null"===t.origin?"*":t.origin,originForReceiving:t.origin},l={},u=(0,o.default)(a,d,g);y(u);const f=(0,s.default)(l,a,t.data.methodNames,m,g);y(f),clearTimeout(i),e(l)};h.addEventListener(r.MESSAGE,c),y(()=>{h.removeEventListener(r.MESSAGE,c);const e=new Error("Connection destroyed");e.code=a.ERR_CONNECTION_DESTROYED,t(e)}),g("Child: Sending handshake"),b.postMessage({penpal:r.HANDSHAKE,methodNames:Object.keys(d)},n)});return{promise:E,destroy:m}},e.exports=t.default},c1gy:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;let r=0;t.default=()=>++r,e.exports=t.default},fian:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deserializeError=t.serializeError=void 0;t.serializeError=e=>({name:e.name,message:e.message,stack:e.stack});t.deserializeError=e=>{const t=new Error;return Object.keys(e).forEach(n=>t[n]=e[n]),t}},h0uM:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=()=>{const e=[];let t=!1;return{destroy(){t=!0,e.forEach(e=>{e()})},onDestroy(n){t?n():e.push(n)}}},e.exports=t.default},nx4L:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERR_NO_IFRAME_SRC=t.ERR_NOT_IN_IFRAME=t.ERR_CONNECTION_TIMEOUT=t.ERR_CONNECTION_DESTROYED=void 0;t.ERR_CONNECTION_DESTROYED="ConnectionDestroyed";t.ERR_CONNECTION_TIMEOUT="ConnectionTimeout";t.ERR_NOT_IN_IFRAME="NotInIframe";t.ERR_NO_IFRAME_SRC="NoIframeSrc"},rJLZ:function(e){e.exports=JSON.parse('{"issuers":{"0x007d40224f6562461633ccfbaffd359ebb2fc9ba":{"name":"Government Technology Agency of Singapore (GovTech)","displayCard":true,"website":"https://www.tech.gov.sg","email":"info@tech.gov.sg","phone":"+65 6211 2100","logo":"/static/images/GOVTECH_logo.png","id":"govtech-registry"},"0x5CA3b9daC85DA4DE4030e59C1a0248004209e348":{"name":"Nanyang Polytechnic","displayCard":true,"website":"https://www.nyp.edu.sg/","email":"askNYP@nyp.edu.sg","phone":"+65 6451 5115","logo":"/static/images/NYP_logo.png","id":"nyp-registry"},"0xa5d801265D29A6F1015a641BfC0e39Ee3dA2AC76":{"name":"Ngee Ann Polytechnic","displayCard":true,"website":"https://www.np.edu.sg","email":"asknp@np.edu.sg","phone":"+65 6466 6555","logo":"/static/images/NP_logo.svg","id":"np-registry","group":"np-registry"},"0x828dB5254a44e8630068107A2536219e0C84cacA":{"name":"Ngee Ann Polytechnic CET Academy","displayCard":true,"website":"https://www.np.edu.sg","email":"enquiryCET@np.edu.sg","phone":"+65 6460 6353","logo":"/static/images/NP_logo.svg","id":"np-registry-academy","group":"np-registry"},"0xE4a94Ef9C26904A02Cd6735F7D4De1D840146a0f":{"name":"Singapore Examinations and Assessment Board","displayCard":true,"website":"https://www.seab.gov.sg/","email":"","phone":"+65 6872 2220","logo":"/static/images/SEAB_logo_crop.png","id":"seab-registry"},"0x24a7DE31D231221ab6B1B325Ca5F1AA7bfbaaabA":{"name":"Singapore Institute of Technology","displayCard":true,"website":"https://www.singaporetech.edu.sg/","email":"","phone":"+65 6592 1136","logo":"/static/images/SIT_logo.png","id":"sit-registry"},"0x78CE67fcb40D9D9552A313670A2e0eef11043995":{"name":"SkillsFuture Singapore","displayCard":true,"website":"https://www.ssg-wsg.gov.sg/","email":"","phone":"+65 6785 5785","logo":"/static/images/SSG_logo.png","id":"ssg-registry"},"0x4d05f843718da742b4229938f972a3eb969c25ce":{"name":"Temasek Polytechnic","displayCard":true,"website":"https://www.tp.edu.sg/home","email":"enquiry@tp.edu.sg","phone":"+65 6789 8220","logo":"/static/images/TP_logo.svg","id":"tp-registry"},"0x0CE38eBEa3B943Ee6DA24163710b25Ef8654f39E":{"name":"Institute of Technical Education","displayCard":true,"website":"https://www.ite.edu.sg","email":"training@ite.edu.sg","phone":"1800-2222 111","logo":"/static/images/ITE_logo.png","id":"ite-registry"},"0x18270bA6dA0380a2cbC705bc6C0AD6651282bD14":{"name":"Republic Polytechnic","displayCard":true,"website":"https://www.rp.edu.sg/","email":"one-stop@rp.edu.sg","phone":"+65 6510 3000","logo":"/static/images/RP_logo.svg","id":"rp-registry"},"0x96a7bEefb0A7fb6B9d2101B0A27a734fA97E7221":{"name":"Singapore University of Technology and Design","displayCard":true,"website":"https://sutd.edu.sg","email":"opencert@sutd.edu.sg","phone":"+65 6499 8922","logo":"/static/images/SUTD_logo.png","id":"sutd-registry"},"0x16E949FcDC655765959Ac085CA7B1aE353D6Ca35":{"name":"Nanyang Technological University","displayCard":true,"website":"https://www.ntu.edu.sg","email":"deg_verify@ntu.edu.sg","phone":"+65 6592 2448","logo":"/static/images/NTU_logo.png","id":"ntu-registry"},"0x61783202d023fd08dcc7d7ca8a196697c46c9d57":{"name":"Nanyang Technological University","displayCard":true,"website":"https://www.ntu.edu.sg","email":"deg_verify@ntu.edu.sg","phone":"+65 6592 2448","logo":"/static/images/NTU_logo.png","id":"ntu-registry"},"0xCFa2B7Fc3FdD5CA55715581e34420268CCcd3039":{"name":"Singapore Management University","displayCard":true,"website":"https://www.smu.edu.sg","email":"digitalcert@smu.edu.sg","phone":"+65 6828 0583 / +65 6808 5264 / +65 6808 5138","logo":"/static/images/SMU_logo.png","id":"smu-registry","group":"smu-registry"},"0x6c806e3E0Ea393eC7E8b7E7fa62eF92Fcd039404":{"name":"Singapore Management University Academy","displayCard":true,"website":"https://academy.smu.edu.sg","email":"academy@smu.edu.sg","phone":"+65 6828 9688","logo":"/static/images/SMU_logo.png","id":"smu-registry-academy","group":"smu-registry"},"0x38c8d4cbc63a23739abfe9c280a3c533a8dbebf5":{"name":"Singapore Management University School of Accountancy","displayCard":true,"website":"https://accountancy.smu.edu.sg","email":"accountancy@smu.edu.sg","phone":"+65 6828 0632","logo":"/static/images/SMU_logo.png","id":"smu-registry-accountancy","group":"smu-registry"},"0x6a8899bbe8bb1535e60cf9237fc6806c26066dee":{"name":"Singapore Management University School of Economics","displayCard":true,"website":"https://economics.smu.edu.sg","email":"economics_enquiries@smu.edu.sg","phone":"+65 6808 5108","logo":"/static/images/SMU_logo.png","id":"smu-registry-economics","group":"smu-registry"},"0x94cbba4b50d2c29d247221a7cc2dda356054078b":{"name":"Singapore Management University School of Information Systems","displayCard":true,"website":"https://sis.smu.edu.sg","email":"enquiries@sis.smu.edu.sg","phone":"+65 6808 5108","logo":"/static/images/SMU_logo.png","id":"smu-registry-sis","group":"smu-registry"},"0x5a8027a5fa187d495546c4041966703bf9018a11":{"name":"Singapore Management University Lee Kong Chian School of Business","displayCard":true,"website":"https://business.smu.edu.sg","email":"bschool@smu.edu.sg","phone":"+65 6828 0549","logo":"/static/images/SMU_logo.png","id":"smu-registry-business","group":"smu-registry"},"0x86e7e573a18df76ed840d6ae2af11785c1453911":{"name":"Singapore Management University School of Law","displayCard":true,"website":"https://law.smu.edu.sg","email":"law@smu.edu.sg","phone":"+65 6828 0502","logo":"/static/images/SMU_logo.png","id":"smu-registry-law","group":"smu-registry"},"0x5b3e03ec154629c67ad5d32e34048aac3fb0ddbe":{"name":"Singapore Management University Institute of Service Excellence","displayCard":true,"website":"https://ise.smu.edu.sg","email":"ise@smu.edu.sg","phone":"+65 6828 0111","logo":"/static/images/SMU_logo.png","id":"smu-registry-excellence","group":"smu-registry"},"0xA204F16717fbF580d6A0535b58063fB4fce969fF":{"name":"National University of Singapore","displayCard":true,"website":"http://www.nus.edu.sg/","email":"transcript@nus.edu.sg","phone":"+65 6516 2304","logo":"/static/images/NUS_logo.svg","id":"nus-registry"},"0x69Ec8cA1A2A19566128F4157Dca6249d89046F1F":{"name":"Singapore Polytechnic","displayCard":true,"website":"https://www.sp.edu.sg","email":"contactus@sp.edu.sg","phone":"+65 6775 1133","logo":"/static/images/SP_logo.svg","id":"sp-registry"},"0x45b04D7EFdfA1B25296e5BC9eC88E3ae3C53CE9f":{"name":"Singapore University of Social Sciences","displayCard":true,"website":"https://www.suss.edu.sg/","email":"alumni@suss.edu.sg","phone":"+65 6248 9215","logo":"/static/images/SUSS_logo.png","id":"suss-registry"},"0x9cf976dc45bb5a9336238759e89051E7b09e016b":{"name":"National Institute of Early Childhood Development","displayCard":true,"website":"https://www.niec.edu.sg/","email":"aa@niec.edu.sg","phone":"+65 6332 0668","logo":"/static/images/NIEC_logo.png","id":"niec-registry"},"0xa53C84A422D9cCc5C4aDA9fa65B03e2Bb25E2D03":{"name":"Lasalle College of the Arts","displayCard":true,"website":"https://www.lasalle.edu.sg/","email":"academic.admin@lasalle.edu.sg","phone":"+65 6496 5200","logo":"/static/images/LASALLE_logo.png","id":"lasalle-registry"},"0x5af87c7C799FdD24418f436ccc5d0ef00a1D755B":{"name":"Nanyang Academy of Fine Arts","displayCard":true,"website":"https://www.nafa.edu.sg/","email":"nafacerts@nafa.edu.sg","phone":"+65 6512 4000","logo":"/static/images/NAFA_Arts_logo.png","id":"nanyang-art-registry"},"0xb3c1404732585ddEB837Af28eBdAec504ed8Ba04":{"name":"ROPSTEN: Singapore Management University","displayCard":false},"0x3FFB6b913E9874c7ddabD564d85676Bc5cAd16d4":{"name":"ROPSTEN: Nanyang Technological University","displayCard":false},"0xdcb5bce006f5f369579854ec32ec6fa53ba915be":{"name":"ROPSTEN: Nanyang Polytechnic","displayCard":false},"0xfEbB273495F5C2c4783E23424Fe9773691b57fcB":{"name":"ROPSTEN: National University of Singapore","displayCard":false},"0x866Fb78aC3c87019aBff9FB566acfF66F75Cfa46":{"name":"ROPSTEN: Ngee Ann Polytechnic","displayCard":false},"0xc36484efa1544c32ffed2e80a1ea9f0dfc517495":{"name":"ROPSTEN: Ngee Ann Polytechnic","displayCard":false},"0xeDe1B6Fc03f1a9C6905C93a2fceb06E19624a55E":{"name":"ROPSTEN: Singapore Examinations and Assessment Board","displayCard":false},"0x897E224a6a8b72535D67940B3B8CE53f9B596800":{"name":"ROPSTEN: Singapore Institute of Technology","displayCard":false},"0x3f43FB8546E97b2c1D5eD087767C0d2eb2e13f8b":{"name":"ROPSTEN: Singapore Institute of Technology (Ledger Nano)","displayCard":false},"0xCE4D56Fea4a4EB33E8A3502CEe6Db075224C896d":{"name":"ROPSTEN: Skillsfuture Singapore","displayCard":false},"0xe825e69383a57eB686Fc7b8c455Dd982bB9680f6":{"name":"ROPSTEN: Temasek Polytechnic","displayCard":false},"0xE5c693015460868F817799CAFb363EEDb4F9E446":{"name":"ROPSTEN: Institute of Technical Education","displayCard":false},"0xdcA6Eea7024151c270b50FcA9E67161119B06BAD":{"name":"ROPSTEN: Government Technology Agency of Singapore (GovTech)","displayCard":false},"0x532C9Ff853CA54370D7492cD84040F9f8099f11B":{"name":"ROPSTEN: Government Technology Agency of Singapore (GovTech)","displayCard":false},"0x061aFcFF60b90E0F633F8ef157e01BaB9b2FfDD3":{"name":"ROPSTEN: Republic Polytechnic","displayCard":false},"0x2456FC81C1342fB79D7C58A4682F031208A44d7F":{"name":"ROPSTEN: Singapore University of Technology and Design","displayCard":false},"0x46cf931c320ce7277753dbb15567dD684404e36C":{"name":"ROPSTEN: Singapore University of Social Sciences","displayCard":false},"0x146d1e1938dc0f5fbb2179727c2fa61522cd1834":{"name":"ROPSTEN: National Institute of Early Childhood Development","displayCard":false},"0xb02bcBb4865d0301F6e4A5f46043498f7c348E03":{"name":"ROPSTEN: Lasalle College of the Arts","displayCard":false},"0x7Ee2B9a0043Bda975398477695ba5c2361acC50C":{"name":"RINKEBY: Government Technology Agency of Singapore (GovTech)","displayCard":false}}}')},yntX:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=n("SxHf"),a=n("nx4L"),i=d(n("h0uM")),o=d(n("F8ho")),s=d(n("QHLZ")),c=d(n("3tON")),l=d(n("0sMD"));function d(e){return e&&e.__esModule?e:{default:e}}t.default=e=>{let t=e.iframe,n=e.methods,d=void 0===n?{}:n,u=e.childOrigin,f=e.timeout,g=e.debug;const p=(0,s.default)(g),m=window,y=(0,i.default)(),h=y.destroy,b=y.onDestroy;if(!u){if(!t.src&&!t.srcdoc){const e=new Error("Iframe must have src or srcdoc property defined.");throw e.code=a.ERR_NO_IFRAME_SRC,e}u=(0,o.default)(t.src)}const E="null"===u?"*":u;return{promise:new Promise((e,n)=>{let i;void 0!==f&&(i=setTimeout(()=>{const e=new Error(`Connection to child timed out after ${f}ms`);e.code=a.ERR_CONNECTION_TIMEOUT,n(e),h()},f));const o={};let s,g;const y=n=>{const a=t.contentWindow;if(n.source!==a||n.data.penpal!==r.HANDSHAKE)return;if(n.origin!==u)return void p(`Parent received handshake from origin ${n.origin} which did not match expected origin ${u}`);p("Parent: Received handshake, sending reply"),n.source.postMessage({penpal:r.HANDSHAKE_REPLY,methodNames:Object.keys(d)},E);const f={localName:"Parent",local:m,remote:a,originForSending:E,originForReceiving:u};g&&g(),g=(0,c.default)(f,d,p),b(g),s&&s.forEach(e=>{delete o[e]}),s=n.data.methodNames;const y=(0,l.default)(o,f,s,h,p);b(y),clearTimeout(i),e(o)};m.addEventListener(r.MESSAGE,y),p("Parent: Awaiting handshake");var v=setInterval(()=>{document.contains(t)||(clearInterval(v),h())},6e4);b(()=>{m.removeEventListener(r.MESSAGE,y),clearInterval(v);const e=new Error("Connection destroyed");e.code=a.ERR_CONNECTION_DESTROYED,n(e)})}),destroy:h}},e.exports=t.default}}]);